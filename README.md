# Indoor location 

### 1.开发环境

**1）硬件配置**

cup :i7处理器

内存：8G

**2）软件配置**

Window 10：

python 3.6 

Tensor flow 1.13.1

### 2.数据信息

**1）公开数据集： UJIINDOORLOC 数据集**

该数据集是在西班牙 Jaume I 的大学的多栋教学楼测量的,是一个跨楼跨层的大型数据集，数据集定位区域的总面积为108703平方米，包含三栋教学楼，每栋教学楼有四层或五层，在这些区域共计布置了 520 个AP 且布置的位置大多比较隐蔽，都布置在了天花板或墙壁上。是一个标准的用于实际建筑物和楼层识别分类的数据集。数据集的收集采用了众包技术，数据来自于20 个用户的 25 个移动设备的采集。数据集包含了 933 个 Wi-Fi 参考点的，有 21049条记录。其中分为 19937 的训练集和 1111 的测试集。且测试数据集是比训练数据集晚四个月采集的。

该数据集有 529 个维度，其中前 520 维是接收强度值，由于 AP 辐射范围有限，因此数据具有很强的稀疏性，接收信号强度为-100dBn 表示信号非常微弱，而信号强度为 0dB 表示信号非常强。因此前 520 维信号取为-100dB 到 0dB 之间。521 到 523 分别对应了该参考点在所在的经度、维度、楼层号。524 维所在楼号，525 是对应的房间类型，526 是标志是否在室内采集，527 是采集者身份标识，528是移动设备类型，529 是采样时间点标识。

**2）实测数据集：**

实验场地：

本文选定的实验场地为北京交通大学某教学楼三楼的一间教室，教室的大小长为 20m 宽为 15m，选择路由器作为无线接入器(access point, AP)，为了保证 Wi-Fi 信号能够覆盖到整个教室，在该教室布置了 6 个 AP，参考点网格间隔为 0.6m。

数据采集系统：

本文设计了一个基于 Android 系统的一个信号测量系统。该系统由三个模块组成，一个是信号采集模块，一个信号处理模块，一个是指纹库建立模块。在数据采集模块中，移动智能设备通过手机自带的 Wi-Fi 连接功能连接到某一个无线热点后，信号收集模块开始采集接收到的无线信号，每次测量次数为 30 次。在这个模块中记录的信号信息包含，采用时间、AP 名称、接收信号强度、连接速度。在数据处理模块中，由于 RSS 的波动性对于定位精度有很大的影响，需要对在一个参考点接收的多次的 RSS 进行平均化处理，即对在某个参考点多次收集的指纹取平均值。在指纹库建立阶段，将建立 RSS 和位置空间的对应关系。在这个模块中，每个参考点在位置空间上由一个二维坐标表示，在 RSS 信号空间中由一个六维的RSS 信息表示。在本文实验中，一共选取了 225 个参考点，每个参考点对应的信号维度为 8 维，其中前 6 维是来自六个 AP 的接收信号强度，第 7、8 维是参考点在室内的位置坐标

![image-20190611110250179](/Users/amhu/Library/Application Support/typora-user-images/image-20190611110250179.png)

### 3.文件描述

**1.experment_rss.ipynb**

功能：根据实测数据，验证通用机器学习算法在室内定位上的应用效果，包括：

1）实测数据分析,分析wifi数据的变化趋势，即空间传播衰减模型的实际效果；

2）分别于在线阶段采用以下回归算法验证定位效果： LR、KNN、RF、GBDT，

3）分别于在线阶段采用以下分类算法验证定位效果：SVM、RF

**2.feature_transfer_location.ipynb**

功能：根据公开数据集，验证特征迁移学习对于室内定位效果的改善，包括：

1）离线阶段的六层神经网络的搭建并训练，保存下来；

2）在线阶段根据新得到的数据训练最后一层网络参数；

**3.sample_transfer_location.ipynb**

功能：根据公开数据集，验证特征迁移学习对于室内定位效果的改善，包括：

1）验证通用在线阶段采用机器学习算法在公开数据集上定位效果，作为baselin;

2)   搭建样本迁移模型，并在公开数据集上验证改进效果；

### 4.论文中图表信息

**第一章；**

Fig1: 三角定位的示例

**第二章：**

1）图：

Fig1: 射频定位原理

Fig2: RSS 的空间特效效果

Fig3: RSS的时间特性效果

Fig4: RSS的分布变化图

2）结果：

验证了RSS在空间跟理论的衰减模型有着较大的差别，脚本略；

验证了RSS在时间上具有较大的不确定性，脚本略：

**第三章：**

1）图

Fig1:  实验场地图

Fig2:  KNN 算法定位性能

Fig3；Random forest 定位性能

Fig4:   GBDT的定位性能

Fig5:   aoto_encoder 定位性能

2）结果：

KNN算法定位精度：1.62m ，结果见文件1；

RF算法定位精度：1.675m，结果见文件1；

GBDT 定位精度：1.93m，结果见文件1；

Auto_encoder 测试集定位准确度：0.72，结果见文件1；

**第四章：**

1）图

Fig1：迁移学习解释

Fig2：特征迁移的框架

Fig3： 特征迁移的定位效果

Fig4：样本迁移效果

2）结果

特征迁移改进的定位准确度：0.80，结果见文件2；

样本迁移改进的定位准确度：0.90，结果见文件3；

### 5.其他信息
